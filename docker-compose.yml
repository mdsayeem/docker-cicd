version: "3.9"

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: node-hello
    environment:
      - NODE_ENV=production
      - PORT=3000        # only if your app reads PORT
    ports:
      - "8080:8080"      # host:container
    restart: unless-stopped
    # Optional healthcheck (requires curl in image or swap to wget)
    # healthcheck:
    #   test: ["CMD", "curl", "-f", "http://localhost:8080"]
    #   interval: 30s
    #   timeout: 5s
    #   retries: 3
    #   start_period: 10s
